# Правила оформления кода для проекта UniOne

## Общие правила

1. **Пустая строка в конце файла**
   - Каждый файл должен заканчиваться пустой строкой
   - Проверка: `Expected 1 newline at end of file; 0 found`

2. **Отсутствие пробелов в конце строк**
   - Строки не должны содержать пробелы в конце
   - Проверка: `Whitespace found at end of line`

3. **Длина строк**
   - Максимальная длина строки - 120 символов
   - Проверка: `Line exceeds 120 characters`

4. **Использование обратного слеша перед нативными PHP функциями**
   - Перед всеми нативными PHP функциями ставить знак `\`
   - Пример: `\str_starts_with()`, `\sprintf()`

5. **Использование \sprintf() вместо конкатенации строк**
   - Для объединения строк использовать `\sprintf()` вместо оператора `.`
   - Пример: `\sprintf('Other: %s', $purposeOther)` вместо `'Other: ' . $purposeOther`

6. **Запятая после последнего параметра**
   - После последнего параметра в списке параметров метода/функции должна стоять запятая
   - Пример:
     ```php
     public function example(
         int $param1,
         string $param2,
     ): void {
         // код метода
     }
     ```

## Форматирование кода

правила по форматированию кода содержатся в файле code_style_rules.md

## Проверка стиля кода

Для проверки соответствия кода правилам оформления используется PHP_CodeSniffer.

Типичные ошибки, которые нужно исправлять:
```
FOUND 3 ERRORS AND 1 WARNING AFFECTING 4 LINES
--------------------------------------------------------------------------------
  41 | WARNING | [ ] Line exceeds 120 characters; contains 124 characters
 132 | ERROR   | [x] Whitespace found at end of line
 134 | ERROR   | [x] Whitespace found at end of line
 135 | ERROR   | [x] Whitespace found at end of line
--------------------------------------------------------------------------------
```

## Автоматическое исправление ошибок

Некоторые ошибки могут быть исправлены автоматически с помощью PHPCBF:
```
PHPCBF CAN FIX THE 3 MARKED SNIFF VIOLATIONS AUTOMATICALLY
```