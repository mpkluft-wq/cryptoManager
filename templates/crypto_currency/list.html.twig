{% extends "default_layout/main_layout.html.twig" %}

{% block body %}
<div class="container mt-4">
    <h1>Список криптовалют</h1>
    
    {% for label, messages in app.flashes %}
        {% for message in messages %}
            <div class="alert alert-{{ label }} alert-dismissible fade show mt-3" role="alert">
                {{ message }}
                <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
        {% endfor %}
    {% endfor %}
    
    <div class="table-responsive mt-4">
        <table class="table table-striped table-bordered">
            <thead class="thead-dark">
                <tr>
                    <th>ID</th>
                    <th>Символ</th>
                    <th>Название</th>
                    <th>Стейблкоин</th>
                    <th>Десятичные</th>
                    <th>Блокчейн</th>
                    <th>Сеть</th>
                    <th>Год запуска</th>
                </tr>
            </thead>
            <tbody>
                {% for currency in cryptoCurrencies %}
                    <tr>
                        <td>{{ currency.id }}</td>
                        <td>{{ currency.symbol }}</td>
                        <td>{{ currency.name }}</td>
                        <td>{{ currency.isStablecoin ? 'Да' : 'Нет' }}</td>
                        <td>{{ currency.decimals }}</td>
                        <td>{{ currency.blockchainType }}</td>
                        <td>{{ currency.network }}</td>
                        <td>{{ currency.launchYear }}</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>

    <div class="card mt-5 mb-4">
        <div class="card-header bg-primary text-white">
            <h3 class="mb-0">Добавить новую криптовалюту</h3>
        </div>
        <div class="card-body">
            <form method="post" action="{{ path('crypto_currency_list') }}">
                <div class="form-row">
                    <div class="form-group col-md-6">
                        <label for="symbol">Символ</label>
                        <input type="text" class="form-control" id="symbol" name="symbol" required maxlength="20">
                    </div>
                    <div class="form-group col-md-6">
                        <label for="name">Название</label>
                        <input type="text" class="form-control" id="name" name="name" required maxlength="255">
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group col-md-4">
                        <label for="decimals">Десятичные</label>
                        <input type="number" class="form-control" id="decimals" name="decimals" required min="0" max="18">
                    </div>
                    <div class="form-group col-md-4">
                        <label for="blockchainType">Тип блокчейна</label>
                        <input type="text" class="form-control" id="blockchainType" name="blockchainType" required maxlength="50">
                    </div>
                    <div class="form-group col-md-4">
                        <label for="launchYear">Год запуска</label>
                        <input type="number" class="form-control" id="launchYear" name="launchYear" min="2008" max="{{ "now"|date("Y") }}">
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group col-md-6">
                        <label for="network">Сеть</label>
                        <input type="text" class="form-control" id="network" name="network" maxlength="50">
                    </div>
                    <div class="form-group col-md-6">
                        <label for="contractAddress">Адрес контракта</label>
                        <input type="text" class="form-control" id="contractAddress" name="contractAddress" maxlength="255">
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group col-md-6">
                        <label for="projectUrl">URL проекта</label>
                        <input type="url" class="form-control" id="projectUrl" name="projectUrl" maxlength="255">
                    </div>
                    <div class="form-group col-md-6">
                        <label for="explorerUrl">URL обозревателя</label>
                        <input type="url" class="form-control" id="explorerUrl" name="explorerUrl" maxlength="255">
                    </div>
                </div>
                
                <div class="form-group form-check">
                    <input type="checkbox" class="form-check-input" id="isStablecoin" name="isStablecoin" value="1">
                    <label class="form-check-label" for="isStablecoin">Стейблкоин</label>
                </div>
                
                <button type="submit" class="btn btn-success">Добавить криптовалюту</button>
            </form>
        </div>
    </div>
</div>
{% endblock %}
